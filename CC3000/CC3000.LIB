SMART_CONFIG_TIMEOUT = 60000
WLAN_CONNECT_TIMEOUT = 10000
RXBUFFERSIZE = 64
TXBUFFERSIZE = 32

WIFI_ENABLE = 1
WIFI_DISABLE = 0
WIFI_STATUS_CONNECTED = 1

SSIDSCANRESULTBUFF.NUM_NETWORKS = 0
SSIDSCANRESULTBUFF.SCAN_STATUS = 0
SSIDSCANRESULTBUFF.RSSIBYTE = 0
SSIDSCANRESULTBUFF.SEC_SSIDLEN = 0
SSIDSCANRESULTBUFF.TIME = 0
SSIDSCANRESULTBUFF.SSID_NAME$ = SPACE$(32)
SSIDSCANRESULTBUFF.BSSID$ = SPACE$(6)

FUNCTION GETSTATUS(STATUS_T$)
	IF STATUS_T$ = "STATUS DISCONNECTED" THEN
		GETSTATUS() = 0
	ELSEIF STATUS_T$ = "STATUS_SCANNING" THEN
		GETSTATUS() = 1
	ELSEIF STATUF_T$ = "STATUS_CONNECTING" THEN
		GETSTATUS() = 2
	ELSEIF STATUS_T$ = "STATUS_CONNECTED" THEN
		GETSTATUS() = 3
	ELSE
		ERROR "ENUMERATION ERROR"
	ENDIF
END FUNCTION

SUB DEBUGPRINT STRING$
	IF DEBUG_MODE <> 0 THEN
		PRINT STRING$
	ENDIF
END SUB

PINGREPORTNUM = 0
PINGREPORT = 0

CC3000_SUCCESS = 0
FUNCTION CHECK_SUCCESS(FUNC,NOTIFY$)
	IF FUNC <> CC3000_SUCCESS THEN
		ERROR NOTIFY$
	ELSE
		CHECK_SUCCESS = 1
	ENDIF
END FUNCTION

MAXSSID = 32
MAXLENGTHKEY = 32

MAX_SOCKETS = 32
DIM CLOSED_SOCKETS$(MAX_SOCKETS) LENGTH 1
FOR i = 0 to 3
	CLOSED_SOCKETS$(i) = "0"
NEXT

CC3000BITSET = 0
CC3000BITSET.ISSMARTCONFIGFINISHED = &B0001
CC3000BITSET.ISCONNECTED = &B0010
CC3000BITSET.HASDHCP = &B0100
CC3000BITSET.OKTOSHUTDOWN = &B1000

SUB CC3000BITSET.CLEAR
	CC3000BITSET = 0
END SUB

FUNCTION CC3000BITSET.TEST(FLAG)
	IF FLAG OR CC3000BITSET = 0 THEN
		CC3000BITSET.TEST = 0
	ELSE
		CC3000BITSET.TEST = 1
	ENDIF
END FUNCTION

SUB CC3000BITSET.SET(FLAG)
	CC3000BITSET = CC3000BITSET OR FLAG
END SUB

SUB CC3000BITSET.RESET(FLAG)
	CC3000BITSET = CC3000BITSET AND FLAG XOR &HFF
END SUB

ULSOCKET = 0
_CC3000_PREFIX$ = "TTT"

FUNCTION CC3000.SCANSSIDS(TIME)
	LOCAL INTERVALTIME(16)
	FOR i = 0 TO 16
		INTERVALTIME(i) = 2000
	NEXT
	IF _INITIALISED = 0 THEN
		CC3000.SCANSSIDS = 0
	ENDIF
	IF TIME = 0 THEN
		PRINT "STARTED AP/SSID SCAN"
	ENDIF
	CHECK_SUCCESS(WLAN_IOCTL_SET_SCAN_PARAMS(TIME,20,100,5,&H1FFF,-120,0,300,INTERVALTIME)