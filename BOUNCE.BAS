CLS
MODE 4
SPRITE LOAD "TEST.SPR"
X = MM.HRES/2
Y = MM.VRES/2
H = 1
V = 0
J = 0
SPRITE ON 1, X, Y
DO WHILE KEYDOWN <> 27
IF H = 1 THEN
X = X + 1
ENDIF
IF H = 0 THEN
X = X - 1
ENDIF
IF V = 1 THEN
Y = Y - 1
ENDIF
IF V = 0 THEN
Y = Y + 1
ENDIF
SPRITE MOVE 1, X, Y
IF COLLISION(1, EDGE) > 0 THEN
TONE 400, 400, 50
ENDIF
IF COLLISION(1, EDGE) = &B0001 THEN
H = 1
ENDIF
IF COLLISION(1, EDGE) = &B0010 THEN
H = 0
ENDIF
IF COLLISION(1, EDGE) = &B0100 THEN
V = 0
ENDIF
IF COLLISION(1, EDGE) = &B1000 THEN
V = 1
ENDIF
IF COLLISION(1, EDGE) = &B0101 THEN
H = 1
V = 0
ENDIF
IF COLLISION(1, EDGE) = &B0110 THEN
H = 0
V = 0
ENDIF
IF COLLISION(1, EDGE) = &B1001 THEN
H = 1
V = 1
ENDIF
IF COLLISION(1, EDGE) = &B1010 THEN
H = 0
V = 1
ENDIF
PAUSE 5
LOOP
CLS